#!/bin/csh -f
set nonomatch

elegant test.ele

sddsconvert -pipe=out -ascii test.mat  -retain=col,s,ElementName,R* -fromPage=1 -toPage=1 \
	| sddsprintout -pipe=in -col=* -width=9999 test.mat1
sddsprocess -pipe=out test.erl  -match=col,ElementParameter=DX \
	| sddsprintout -pipe=in -col=ParameterValue -width=9999 test.erl1	
sddsprocess -pipe=out test.cen -match=col,ElementType=MONI  \
	| sddsconvert -pipe=in -ascii -retain=col,s,Cx -fromPage=1 -toPage=1 test.cx
sddsprintout  test.cx -col=Cx -width=9999 test.orbit

sddsconvert -ascii test.traj -nowarnings
sddsconvert -ascii test.cor -nowarnings
sddsplot -layout=1,2 test.traj \
	-col=s,x -graph=line,type=1 -fromPage=1 -toPage=1 -legend=spec=orbit_before_correction \
	-col=s,x -graph=line,type=2 -fromPage=2 -toPage=2 -legend=spec=orbit_comparsion -end \
	-col=s,x -graph=line,type=2 -fromPage=2 -toPage=2 -legend=spec=orbit_after_correction

#elegant flash_dfs.ele
#
#sddsconvert -pipe=out -ascii flash_dfs.mat  -retain=col,s,ElementName,R* -fromPage=1 -toPage=1 \
#	| sddsprintout -pipe=in -col=* -width=9999 flash_dfs.mat1
#sddsprocess -pipe=out flash_dfs.erl  -match=col,ElementParameter=DX \
#	| sddsprintout -pipe=in -col=ParameterValue -width=9999 flash_dfs.erl1	
#sddsprocess -pipe=out flash_dfs.cen -match=col,ElementType=MONI  \
#	| sddsconvert -pipe=in -ascii -retain=col,s,Cx -fromPage=1 -toPage=1 flash_dfs.cx
#sddsprintout  flash_dfs.cx -col=Cx -width=9999 flash_dfs.orbit